
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.2.4. LAB 4 – DELETE AN SSLO CONFIGURATION &#8212; F5 SSL Orchestrator  documentation</title>
    
    <link rel="stylesheet" href="../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5_agility_theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/f5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="2.2.3. LAB 3 – CREATE AN EXPLICIT FORWARD PROXY SSLO" href="../lab3/lab3.html" />
<!--
# Copyright 2017 F5 Networks
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
-->
<link href="https://cdn.f5.com/favicon.ico" rel="icon">
<script src="https://use.fontawesome.com/21fb8a09c3.js"></script>
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>
  <body>
  <nav class="navbar navbar-default navbar-fixed-top">
  <div class="container-fluid">
    <div class="row corp-header">
      <div class="container corp-header">
        <div class="container corp-menu">
          <ul>
            <li><a href="https://f5.com" class="internalLink">F5.com</a></li>
            <li><a href="https://support.f5.com">Support</a></li>
            <li><a href="https://devcentral.f5.com">Community</a></li>
            <li><a href="https://github.com/F5Networks">GitHub</a></li>
            <li><a href="https://f5.com/about-us/careers">Careers</a></li>
          </ul>
        </div>
      </div>
    </div>

    <div class="row pageHeader">
      <div class="container stat">
        <div class="col-xs-12 stat">
          <a class="internalLink" href="https://f5.com">
            <img class="logo" src="https://cdn.f5.com/websites/support/assets/images/logo.svg" width="50" height="44" alt="F5 Networks" title="F5 Networks" border="0">
          </a>
            <ul id="MainMenu" class="main-menu">
              <li>
                <a href="#">Products
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>

                <div class="menu-panel soft-hide" id="ProductsSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third"><span class="a-mm-h">Connectors</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/products/connectors/marathon-bigip-ctlr/latest" data-link-type="Nav: Mega">F5 Marathon BIG-IP Controller</a></li>
                          <li><a href="http://clouddocs.f5.com/products/connectors/marathon-asp-ctlr/latest" data-link-type="Nav: Mega">F5 Marathon ASP Controller</a></li>
                          <li><a href="http://clouddocs.f5.com/products/connectors/k8s-bigip-ctlr/latest" data-link-type="Nav: Mega">F5 Kubernetes BIG-IP Controller</a></li>
                          <li><a href="http://clouddocs.f5.com/products/connectors/f5-kube-proxy/latest" data-link-type="Nav: Mega">F5 Kubernetes Proxy</a></li>
                        </ul>
                        <!--span class="seemore"><a data-link-type="Nav: Mega" href="/products/connectors">See all </a></--span-->
                      </li>
                      <li class="divider"></li>
                      <li class="third"><span class="a-mm-h">Application Service Proxy</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/products/asp/latest" data-link-type="Nav: Mega">F5 Application Service Proxy</a></li>
                        </ul>
                        <!--span class="seemore"><a href="/products/">See all </a></span-->
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
              <li>
                <a href="#">Container Integrations
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>

                <div class="menu-panel soft-hide" id="ContainersSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third"><span class="a-mm-h">Container Integrations</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/containers/latest/marathon/" data-link-type="Nav: Mega">Mesos Marathon</a></li>
                          <li><a href="http://clouddocs.f5.com/containers/latest/kubernetes/" data-link-type="Nav: Mega">Kubernetes</a></li>
                          <li><a href="http://clouddocs.f5.com/containers/latest/openshift/" data-link-type="Nav: Mega">RedHat OpenShift</a></li>
                        </ul>
                        <span class="seemore"><a data-link-type="Nav: Mega" href="http://clouddocs.f5.com/containers/latest">View details </a></span>
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
              <li>
                <a href="#">Clouds
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>

                <div class="menu-panel soft-hide" id="CloudsSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third"><span class="a-mm-h">Cloud Integrations</span>
                        <ul>
                          <li><a href="http://clouddocs.f5.com/cloud/openstack/" data-link-type="Nav: Mega">OpenStack</a></li>
                        </ul>
                        <!--span class="seemore"><a data-link-type="Nav: Mega" href="/cloud/">See all </a></span-->
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
              <li>
                <a href="#">Resources
                  <span class="indicator"><span class="arrow-up"></span></span>
                </a>
                <div class="menu-panel soft-hide" id="UPCProgramSubmenu">
                  <div class="container">
                    <ul class="submenu col-sm-11">
                      <li class="third">
                        <span class="a-mm-h">Downloads</span>
                        <ul>
                          <li><a target="_blank" data-link-type="Nav: Mega" href="https://hub.docker.com/r/f5networks/" class="internalLink">Docker Hub</a></li>
                          <li><a target="_blank" data-link-type="Nav: Mega" href="https://store.docker.com/images/f5networks" class="internalLink">Docker Store</a></li>
                        </ul>
                      </li>
                      <li class="divider"></li>

                      <li class="third">
                        <span class="a-mm-h">OpenSource</span>
                        <ul>
                          <li><a target="_blank" data-link-type="Nav: Mega" href="https://github.com/F5Networks" class="internalLink">GitHub</a></li>
                        </ul>
                      </li>
                      <li class="divider"></li>

                      <li class="third">
                        <a href="//university.f5.com" class="a-mm-h internalLink" target="_blank" data-link-type="Nav: Mega">F5 University</a>
                        <ul>
                          <li>
                            <p>Get up to speed with free self-paced courses</p>
                          </li>
                        </ul>
                        <a data-ng-href="https://devcentral.f5.com" class="a-mm-h internalLink" target="_blank" data-link-type="Nav: Mega" href="https://devcentral.f5.com">DevCentral</a>
                        <ul>
                          <li>
                            <p>Join the community of 250,000+ technical peers</p>
                          </li>
                        </ul>
                      </li>
                    </ul>
                  </div>
                </div>
              </li>
            </ul>
        </div>
      </div>
    </div>
  </div> <!-- /container-fluid -->
</nav>

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-3 col-md-3 sidebar">
         <h4><a href="../../">F5 SSL Orchestrator </a></h4>
<div id="searchbox" style="display: none" role="search">
  <form class="search" action="../../search.html" method="get">
    <div>
      <input type="text" name="q" placeholder="Search" style="padding-left: 6px;"/>
      <!-- <input type="submit" value="Go" style="margin-top: 4px;"/> -->
      <button type="submit" class="btn btn-primary btn-xs">Go</button>
    </div>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <p class="caption">
   <span class="caption-text">Current Page</span>
  </p>
  <ul>
<li><a class="reference internal" href="#">2.2.4. LAB 4 – DELETE AN SSLO CONFIGURATION</a><ul>
<li><a class="reference internal" href="#step-1-deleting-a-topology">2.2.4.1. Step 1: Deleting a topology</a></li>
<li><a class="reference internal" href="#step-2-deleting-other-objects">2.2.4.2. Step 2: Deleting other objects</a></li>
<li><a class="reference internal" href="#step-3-deleting-everything">2.2.4.3. Step 3: Deleting everything</a></li>
<li><a class="reference internal" href="#optional-deleting-everything-the-hard-way">2.2.4.4. Optional: Deleting everything…the hard way</a></li>
</ul>
</li>
<li><a class="reference internal" href="#troubleshoot-sslo">2.2.5. TROUBLESHOOT SSLO</a><ul>
<li><a class="reference internal" href="#step-1-test-the-configuration">2.2.5.1. Step 1: Test the configuration</a></li>
<li><a class="reference internal" href="#step-2-troubleshoot">2.2.5.2. Step 2: Troubleshoot</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-common-testing-commands">2.2.6. APPENDIX – COMMON TESTING COMMANDS</a><ul>
<li><a class="reference internal" href="#control-the-sslfwd-certificate-cache">2.2.6.1. Control the SSLFWD certificate cache</a></li>
<li><a class="reference internal" href="#isolate-sslo-traffic">2.2.6.2. Isolate SSLO traffic</a></li>
<li><a class="reference internal" href="#debugging">2.2.6.3. Debugging</a></li>
<li><a class="reference internal" href="#packet-capture">2.2.6.4. Packet capture</a></li>
<li><a class="reference internal" href="#ssl-inspection">2.2.6.5. SSL inspection</a></li>
<li><a class="reference internal" href="#control-the-url-filtering-database">2.2.6.6. Control the URL Filtering database</a></li>
<li><a class="reference internal" href="#external-testing">2.2.6.7. External testing</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-routing-considerations-for-layer-3-devices">2.2.7. APPENDIX – ROUTING CONSIDERATIONS FOR LAYER 3 DEVICES</a><ul>
<li><a class="reference internal" href="#configuring-a-policy-route-on-the-layer-3-device">2.2.7.1. Configuring a policy route on the layer 3 device</a></li>
</ul>
</li>
<li><a class="reference internal" href="#appendix-demo-scripts">2.2.8. APPENDIX – DEMO SCRIPTS</a><ul>
<li><a class="reference internal" href="#lab-1-demo-script">2.2.8.1. Lab 1 demo script</a></li>
<li><a class="reference internal" href="#lab-2-demo-script">2.2.8.2. Lab 2 demo script</a></li>
<li><a class="reference internal" href="#lab-3-demo-script">2.2.8.3. Lab 3 demo script</a></li>
</ul>
</li>
</ul>


<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">1. Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../class1.html">2. Class - F5 SSL Orchestrator</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../lab3/lab3.html"
                        title="previous chapter">2.2.3. LAB 3 – CREATE AN EXPLICIT FORWARD PROXY SSLO</a></p>
        
      </div>
      <div class="col-md-offset-3 col-sm-offset-3 main">
        <h4>
          <a href="/">Community Training Classes &amp; Labs</a> &gt; <a href="../../index.html">F5 SSL Orchestrator</a>
          <span class="right"><a href="../../genindex.html">Index</a></span>
        </h4>
        
  <div class="section" id="lab-4-delete-an-sslo-configuration">
<h1>2.2.4. LAB 4 – DELETE AN SSLO CONFIGURATION<a class="headerlink" href="#lab-4-delete-an-sslo-configuration" title="Permalink to this headline">¶</a></h1>
<p>One of the benefits of the new SSLO architecture is that
configurations can be edited, deployed and re-deployed without
affecting existing traffic flows. For this capability, the SSLO
packaging is now broken into separate independent components. When
deleting a defined topology, most of the attached components are
also deleted. However, some objects, particularly those that can be
consumed by multiple topologies, are not automatically deleted. This
lab explores the different methods for deleting SSL Orchestratorobjects.</p>
<div class="section" id="step-1-deleting-a-topology">
<h2>2.2.4.1. Step 1: Deleting a topology<a class="headerlink" href="#step-1-deleting-a-topology" title="Permalink to this headline">¶</a></h2>
<p>Deleting a topology will also delete any relying Interception Rules.
The deletion process performs a complex set of REST-based tasks,
therefore only one topology can be deleted at a time. In the SSLO
UI, select a topology and click the Delete button. Confirm that both
the topology and respective interception rules are removed.</p>
</div>
<div class="section" id="step-2-deleting-other-objects">
<h2>2.2.4.2. Step 2: Deleting other objects<a class="headerlink" href="#step-2-deleting-other-objects" title="Permalink to this headline">¶</a></h2>
<p>While deleting a topology also removes its respective interception
rules, it does not remove the other objects - services, service
chains, security policies and SSL settings. These can all be removed
individually, however must be deleted in a hierarchical order. Once
the topology and interception rules have been deleted,</p>
<ul class="simple">
<li>SSL Settings can be deleted any time</li>
<li>Delete any unused Security Policies</li>
<li>Delete any unused Service Chains</li>
<li>Delete any unused Services</li>
</ul>
</div>
<div class="section" id="step-3-deleting-everything">
<h2>2.2.4.3. Step 3: Deleting everything<a class="headerlink" href="#step-3-deleting-everything" title="Permalink to this headline">¶</a></h2>
<p>To completely remove the SSLO configuration and start from scratch,</p>
<ul>
<li><p class="first">In the SSLO UI, click Delete Configurations and then click OK. This
process will take some time as SSLO walks through all of the
objects and dependencies to remove all configurations.</p>
</li>
<li><p class="first">Under the iApps menu, Application Services, Applications LX –
un-deploy any remaining SSL orchestrator objects. If using any
other Guided Configuration engine (ex. Access GC), ensure that
only SSLO objects are deleted here.</p>
</li>
<li><p class="first">Under the iApps menu, Templates, Templates LX – delete all of the SSL
Orchestrator templates.</p>
</li>
<li><p class="first">Under the iApps menu, Package management LX – delete the SSL
Orchestrator package.</p>
<p>The next time the SSL Orchestrator configuration menu is accessed,
SSLO will automatically restore the on-box package.</p>
</li>
</ul>
</div>
<div class="section" id="optional-deleting-everything-the-hard-way">
<h2>2.2.4.4. Optional: Deleting everything…the hard way<a class="headerlink" href="#optional-deleting-everything-the-hard-way" title="Permalink to this headline">¶</a></h2>
<p>In the unlikely event that the above steps do not work, and some
SSLO objects remain and cannot be deleted, one of the following
steps can be used,</p>
<ul class="simple">
<li>If the topology and interception rules are gone but other objects
remain and will not uninstall in the SSL Orchestrator UI, in the
BIG-IP UI navigate to iApps -&gt; Application Services -&gt; Applications
LX. The remaining objects will all be here in states of deployed
(green), undeployed (gray), and error (red). Delete any objects in an
error state and toggle the other objects from deployed to undeployed
and back until they enter an error state and can also be deleted.</li>
<li>If the above fails, the following script can be used to automate
destruction of SSLO objects.<ul>
<li>Copy the script to the BIG-IP (ex. cleaner.sh)</li>
<li>Chmod the script to give it execute privileges: chmod +x
cleaner.sh</li>
<li>Execute the script: ./cleaner.sh</li>
<li>It will typically be necessary to execute the script several times
to get through dependencies. It is completely done when the script
returns quickly with no additional output. Validate that all SSLO
objects are gone from the BIG-IP UI under the Local Traffic and
Network sections.</li>
<li>Under the iApps menu, Application Services, Applications LX –
un-deploy any remaining SSL orchestrator objects. If using any
other Guided Configuration engine (ex. Access GC), ensure that
only SSLO objects are deleted here.</li>
<li>Under the iApps menu, Templates, Templates LX – delete all of the
SSL Orchestrator templates.</li>
<li>Under the iApps menu, Package management LX – delete the SSL
Orchestrator package.</li>
</ul>
</li>
<li>If the above fails, manually clear the REST database from the command
line,<ul>
<li>Break any HA configuration</li>
<li>Issue the ‘clear-rest-storage [options]’ command, where the options
are “-l” (lowercase L) to delete the restjavad log files as well as
the stored state, and “-d” to reset the system configuration to
default. This command will remove all SSL Orchestrator objects from
the restnoded database. After issuing this command, follow with
‘bigstart restart restnoded’ and ‘bigstart restart restjavad’, clear
the browser cache, log out and back in.</li>
<li>Issue the ‘tmsh delete sys application service recursive’ command to
also delete any remaining SSL Orchestrator application service objects.</li>
<li>Once all SSLO objects have been removed, also uninstall the SSLO RPM
package under the iApps menu, Package management LX – delete the SSL
Orchestrator package.</li>
<li>Rebuild HA and redeploy SSLO by navigating to the SSL Orchestrator
configuration UI. On first visit it will automatically restore the
on-box package.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="troubleshoot-sslo">
<h1>2.2.5. TROUBLESHOOT SSLO<a class="headerlink" href="#troubleshoot-sslo" title="Permalink to this headline">¶</a></h1>
<p>While the SSL Orchestrator product has certainly evolved, as with
anything in the computing world, problems are usually inevitable and
poorly timed. In the event that an SSL Orchestrator configuration
has failed, or that it has succeeded but not behaving as expected,
the following troubleshooting tools should be useful.</p>
<div class="section" id="step-1-test-the-configuration">
<h2>2.2.5.1. Step 1: Test the configuration<a class="headerlink" href="#step-1-test-the-configuration" title="Permalink to this headline">¶</a></h2>
<p>It is important to first define “normal” behavior. If the SSL
Orchestrator deployment process was successful, it will be possible
to access remote Internet sites from the client workstation without
issue, and HTTPS sites appear to have a locally-trusted, re-issued
server certificate. This would be considered normal behavior. If any
of these do not happen, use the tools below to troubleshoot.</p>
</div>
<div class="section" id="step-2-troubleshoot">
<h2>2.2.5.2. Step 2: Troubleshoot<a class="headerlink" href="#step-2-troubleshoot" title="Permalink to this headline">¶</a></h2>
<p>Below is a reasonably-ordered list of troubleshooting steps.</p>
<ul>
<li><p class="first">If the SSL Orchestrator deployment process fails, review the ensuing
error message. It would be impossible to list here all of the
possible error messages and their meanings, but often enough the
messages will reveal the issue.</p>
</li>
<li><p class="first">Re-review the lab steps for any missing or misconfigured settings.</p>
</li>
<li><p class="first">Enable debug logging in the SSL Orchestrator configuration. Tail the
APM log from a BIG-IP command line or from the logs page in the
management UI. Debug logging will very often reveal important
issues. Specifically, it will indicate traffic classification
matches, mismatches or deployment issues.</p>
<p><strong>tail -f /var/log/apm</strong></p>
<p><strong>tail -f /var/log/restnoded/restnoded.log</strong></p>
<p><strong>tail -f /var/log/restjavad.0.log</strong></p>
</li>
<li><p class="first">If the SSL Orchestrator deployment process succeeds, but traffic
isn’t flowing through the environment made evident by lack of
access to remote sites from the client:</p>
<ul>
<li><p class="first">Ensure that the client is properly configured to either default
route to the ingress VLAN and self- IP of the BIG-IP for
transparent proxy access or has the correct browser proxy
settings defined for explicit proxy access.</p>
</li>
<li><p class="first">Ensure that traffic is flowing to the BIG-IP from the client with
a tcpdump capture at the ingress interface.</p>
</li>
<li><p class="first">Review the LTM configuration created by the SSL Orchestrator.
Specifically, look at the pools and respective monitors for
any failures.</p>
</li>
<li><p class="first">Isolate service chain services. If at least one service chain has
been created, and debug logging indicates that traffic is
matching this chain, remove all but one service from that
chain and test. Add one service back at a time until traffic
flow stops. If a single added service breaks traffic flow,
this service will typically be the culprit.</p>
</li>
<li><p class="first">If a broken service is identified, insert probes to verify inbound
and outbound traffic flow. Inline services will have a source (S)
VLAN and destination (D) VLAN, and ICAP and receive only services
will each have a single source VLAN. Insert a tcpdump capture at each
VLAN in order to determine if traffic is getting to the device, and
if traffic is leaving the device through its outbound interface.</p>
</li>
<li><p class="first">If no service chains are defined, it may be necessary to remove all
of the defined services and re- create them one-by-one to validate
flow through the built-in All chain. If a broken service is
identified, insert tcpdump probes as described above.</p>
</li>
<li><p class="first">If traffic is flowing through all of the security devices, insert a
tcpdump probe at the egress point to verify traffic is leaving the
BIG-IP to the gateway router.</p>
<p>tcpdump -I 0.0:nnn -nn -Xs0 -vv -w &lt;file.pcap&gt; &lt;any additional filters&gt;</p>
</li>
<li><p class="first">If traffic is flowing to the gateway router, perform a more extensive
packet analysis to determine if SSL if failing between the BIG-IP
egress point and the remote server.</p>
<p>Then either export this capture to WireShark are send to ssldump:</p>
<p>ssldump -nr &lt;file.pcap&gt; -H -S crypto &gt; text-file.txt</p>
</li>
<li><p class="first">If the WireShark or ssldump analysis verifies an SSL issue:</p>
<ul class="simple">
<li>Plug the site’s address into the SSLLabs.com server test site at:
<a class="reference external" href="http://www.ssllabs.com/ssltest/">https://wwww.ssllabs.com/ssltest</a></li>
</ul>
<p>This report will indicate any specific SSL requirements that this site has.</p>
<ul>
<li><p class="first">Verify that the SSL Orchestrator server SSL profiles (two of them)
have the correct cipher string to match the requirements of this
site. To do that, perform the following command at the BIG-IP command
line:</p>
<p>tmm –clientciphers ‘cipher string as displayed in server ssl profiles’</p>
</li>
<li><p class="first">Further SSL/TLS issues are beyond the depth of this lab guide. Seek
assistance.</p>
</li>
<li><p class="first">If all else fails, seek assistance.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="appendix-common-testing-commands">
<h1>2.2.6. APPENDIX – COMMON TESTING COMMANDS<a class="headerlink" href="#appendix-common-testing-commands" title="Permalink to this headline">¶</a></h1>
<p>The following are some simple, but powerful commands that are useful
in developing and troubleshooting SSL visibility projects.</p>
<div class="section" id="control-the-sslfwd-certificate-cache">
<h2>2.2.6.1. Control the SSLFWD certificate cache<a class="headerlink" href="#control-the-sslfwd-certificate-cache" title="Permalink to this headline">¶</a></h2>
<p>The behavior of the SSL Forward Proxy changes after a certificate is
cached, which will make it difficult to troubleshoot some issues.
The following allows you to both list and delete the certificates in
the cache.</p>
<p>tmsh show ltm clientssl-proxy cached-certs clientssl-profile [CLIENTSSLPROFILE] virtual INGRESSTCPVIP]
tmsh delete ltm clientssl-proxy cached-certs clientssl-profile [CLIENTSSLPROFILE] virtual INGRESSTCPVIP]</p>
</div>
<div class="section" id="isolate-sslo-traffic">
<h2>2.2.6.2. Isolate SSLO traffic<a class="headerlink" href="#isolate-sslo-traffic" title="Permalink to this headline">¶</a></h2>
<p>Any given website will be full of images, scripts, style sheets, and
very often references to document objects on other sites (like a
CDN). This can make troubleshooting very complex. The following cURL
commands allow you to isolate traffic to a single request and response.</p>
<p>curl -vk <a class="reference external" href="https://www.bing.com">https://www.bing.com</a></p>
<p>curl -vk –proxy 10.30.0.150:3128 <a class="reference external" href="https://www.bing.com">https://www.bing.com</a></p>
<p>curl -vk –proxy 10.30.0.150:3128 - -location <a class="reference external" href="https://www.bing.com">https://www.bing.com</a></p>
<p>Optionally, between each cURL test, delete the certificate cache and
start logging:</p>
<p>tmsh delete ltm clientssl-proxy cached-certs clientssl-profile [CLIENTSSLPROFILE] virtual INGRESSTCPVIP] &amp;&amp; tail -f /var/log/apm</p>
</div>
<div class="section" id="debugging">
<h2>2.2.6.3. Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h2>
<p>There is simply nothing better than debug logging for
troubleshooting SSL intercept issues. The SSL Orchestrator in debug
mode pumps out an enormous set of logs, describing every step along
a connection’s path. Remember to never leave debug logging enabled.</p>
<p>tail -f /var/log/apm</p>
</div>
<div class="section" id="packet-capture">
<h2>2.2.6.4. Packet capture<a class="headerlink" href="#packet-capture" title="Permalink to this headline">¶</a></h2>
<p>Second only to debug logging, packet captures are crucial to
troubleshooting any network-dependent issue.</p>
<p>tcpdump -lnni [VLAN] [-Xs0]</p>
<p>In-line services create “source” (S) and “destination” (D) VLANs,
and ICAP and receive-only services attach to existing VLANs. Drop a
probe at each point in the path and observe flow.</p>
</div>
<div class="section" id="ssl-inspection">
<h2>2.2.6.5. SSL inspection<a class="headerlink" href="#ssl-inspection" title="Permalink to this headline">¶</a></h2>
<p>ssldump -AdNd -i [VLAN] port 443 &lt;add additional filters&gt;</p>
<p>tcpdump -i 0.0:nnn -nn -Xs0 -vv -w &lt;file.pcap&gt; &lt;and additional filters&gt;</p>
<p>ssldump -nr &lt;file.pcap&gt; -H -S crypto &gt; text-file.txt</p>
<p>TLS is rarely the issue, but a sight or configuration error may
render some sites inaccessible.</p>
</div>
<div class="section" id="control-the-url-filtering-database">
<h2>2.2.6.6. Control the URL Filtering database<a class="headerlink" href="#control-the-url-filtering-database" title="Permalink to this headline">¶</a></h2>
<p>To show the current status of the database:
tmsh list sys url-db download-result</p>
<p>To initiate (force) the URL DB to update:
tmsh modify sys url-db download-schedule all stats true download-now true</p>
<p>To verify that the URL DB is actively updating:
tcpdup -lnni 0.0 port 80 and host 204.15.67.80</p>
</div>
<div class="section" id="external-testing">
<h2>2.2.6.7. External testing<a class="headerlink" href="#external-testing" title="Permalink to this headline">¶</a></h2>
<p>Plug the site’s address into SSLLabs.com server test site at
<a class="reference external" href="http://www.ssllabs.com/ssltest/">https://wwww.ssllabs.com/ssltest</a> to see if the site has any
unusual SSL/TLS requirements.</p>
</div>
</div>
<div class="section" id="appendix-routing-considerations-for-layer-3-devices">
<h1>2.2.7. APPENDIX – ROUTING CONSIDERATIONS FOR LAYER 3 DEVICES<a class="headerlink" href="#appendix-routing-considerations-for-layer-3-devices" title="Permalink to this headline">¶</a></h1>
<p>SSL Orchestrator sends all traffic through an inline layer 3 or HTTP
device in the same direction – entering through the inbound
interface. It is likely, therefore, that the layer 3 device may not
be able to correctly route both outbound (forward proxy) and inbound
(reverse proxy) traffic at the same time. Please see the appendix,
“Routing considerations for layer 3 devices” for more details. For
example, in a simple Linux-type environment there would be two
routes needed for SSLO:</p>
<ul>
<li><p class="first">The default gateway to send traffic back to SSLO through the
service’s outbound interface</p>
</li>
<li><p class="first">A static return route to allow client traffic to return through the
service’s inbound interface Example:</p>
<p>In the above, configured for an outbound traffic flow, the default
gateway is on the outbound side interface (eth2), with a static
route for 10.1.10.0/24 (client-sourced) traffic flowing back through
the inbound interface (eth1). An inbound flow, however, would
require the opposite:</p>
</li>
</ul>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="20%" />
<col width="20%" />
<col width="13%" />
<col width="14%" />
<col width="13%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><em>Destination</em></th>
<th class="head"><em>Gateway</em></th>
<th class="head"><em>Genmask</em></th>
<th class="head"><em>Flags</em></th>
<th class="head"><em>Metric</em></th>
<th class="head"><em>iFace</em></th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><em>default</em></td>
<td><em>198.19.64.7</em></td>
<td><em>0.0.0.0</em></td>
<td><em>UG</em></td>
<td><em>0</em></td>
<td><em>eth1</em></td>
</tr>
<tr class="row-odd"><td><em>10.1.10.0</em></td>
<td><em>198.19.64.245</em></td>
<td><em>255.255.255.0</em></td>
<td><em>UG</em></td>
<td><em>o</em></td>
<td><em>eth2</em></td>
</tr>
</tbody>
</table>
<p>There are generally a few options for handling inbound and outbound
traffic flows:</p>
<ul class="simple">
<li>Do not use the same layer 3 device for inbound and outbound flows –
the simplest option, but not always possible in some environments.</li>
<li>Create a policy route, if the device supports it, to create multiple
gateways. We will explore the second and second options below.</li>
</ul>
<div class="section" id="configuring-a-policy-route-on-the-layer-3-device">
<h2>2.2.7.1. Configuring a policy route on the layer 3 device<a class="headerlink" href="#configuring-a-policy-route-on-the-layer-3-device" title="Permalink to this headline">¶</a></h2>
<p>If a service supports it, policy routing allows you to create
multiple gateways on a layer 3 (routed) device. In lieu of creating
separate inbound and outbound services, and service chains for a
single L3 device, all traffic in this use case still flows through
the inbound side interface, but the policy route will effectively
steer traffic in the correct direction. Policy routing can be a
complex topic in and of itself, and each security product will have
its own way of configuring policy routing anyway, so it cannot be
covered in total in this guide. Please refer to product-specific
documentation to learn more about your policy routing options.</p>
<p>The following is an example script to enable a policy route on a
generic Linux device (most of which have iproute2 installed by
default). In the script, it is only necessary to modify the top
eight variables, defining attributes of the inbound and outbound
networks. Once complete, chmod the script to make it executable,
test it, and then call it from a startup process like /etc/rc.local
or /etc/init.d/rc.local. If the script is successful, you should be
able to send inbound and outbound SSLO traffic flows through this device.</p>
<div class="code highlight-default"><div class="highlight"><pre><span></span>#!/bin/bash

## Inbound interface
inbound_interface=eth1.10
inbound_ip=198.19.64.65 inbound_mask=25
inbound_gw=198.19.64.7

## Outbound interface
outbound_interface=eth1.20
outbound_ip=198.19.64.130 outbound_mask=25
outbound_gw=198.19.64.245

### ---------------------------------------------- ###

### ---------------------------------------------- ###

## static table names
inbound_table=av_in
outbound_table=av_out

## function to get network from mask and IP get_network () {

IFS=. read -r io1 io2 io3 io4 &lt;&lt;&lt; &quot;$2&quot;

set -- $(( 5 - ($1 / 8) )) 255 255 255 255 $(( (255 &lt;&lt; (8 - ($1 %8))) &amp; 255 )) 0 0 0
[ $1 -gt 1 ] &amp;&amp; shift $1 || shift
NET\_ADDR=&quot;$((${io1} &amp; ${1-0})).$((${io2} &amp; ${2-0})).$((${io3} &amp; ${3-0})).$((${io4} &amp; ${4-0}))&quot;

echo &quot;$NET_ADDR&quot;

}

## stop if iproute2 is not installed
if ! [ -d &quot;/etc/iproute2/&quot; ]; then
   echo &quot;iproute2 policy routing is not available on this system - exiting&quot; exit
fi

## create the ipproute2 tables

if ! grep -q ${inbound_table} /etc/iproute2/rt_tables; then echo &quot;200
   ${inbound_table}&quot; &gt;&gt; /etc/iproute2/rt_tables
fi

if ! grep -q ${outbound_table} /etc/iproute2/rt_tables; then echo &quot;201
   ${outbound_table}&quot; &gt;&gt; /etc/iproute2/rt_tables
fi

## get the inbound and outbound networks from function
inbound_net=$(get_network ${inbound_mask} ${inbound_ip})
outbound_net=$(get_network ${outbound_mask} ${outbound_ip})

## create policy routes
ip rule add iif ${inbound_interface} table ${inbound_table}
ip rule add iif ${outbound_interface} table ${outbound_table}
ip addr add ${inbound_ip}/${inbound_mask} brd + dev ${inbound_interface}
ip addr add ${outbound_ip}/${outbound_mask} brd + dev ${outbound_interface}
ip route add ${inbound_net}/${inbound_mask} dev ${inbound_interface} src ${inbound_ip} table ${inbound_table}
ip route add ${outbound_net}/${outbound_mask} dev ${outbound_interface} src ${outbound_ip} table ${outbound_table}
ip route add ${outbound_net}/${outbound_mask} dev ${outbound_interface} src ${outbound_ip} table ${outbound_table}
ip route add default via ${inbound_gw} table ${outbound_table}
</pre></div>
</div>
</div>
</div>
<div class="section" id="appendix-demo-scripts">
<h1>2.2.8. APPENDIX – DEMO SCRIPTS<a class="headerlink" href="#appendix-demo-scripts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lab-1-demo-script">
<h2>2.2.8.1. Lab 1 demo script<a class="headerlink" href="#lab-1-demo-script" title="Permalink to this headline">¶</a></h2>
<p><strong>Configuration review and prerequisites</strong></p>
<ol class="arabic simple">
<li>Optionally define DNS, NTP and gateway route</li>
<li>Click Next</li>
</ol>
<p><strong>Topology Properties</strong></p>
<ol class="arabic simple">
<li>Name - some name</li>
<li>Protocol: Any</li>
<li>IP Family: IPv4</li>
<li>Topology: L3 Outbound</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>SSL Configuration</strong></p>
<ol class="arabic simple">
<li>Create a New SSL Profile</li>
<li>Client-side SSL (Cipher Type): Cipher String</li>
<li>Client-side SSL (Cipher String): DEFAULT</li>
<li>Client-side SSL (Certificate Key Chain): default.crt and default.key</li>
<li>Client-side SSL (CA Certificate Key Chain): subca.f5demolabs.com</li>
<li>Server-side SSL (Cipher Type): Cipher String</li>
<li>Server-side SSL (Cipher String): DEFAULT</li>
<li>Server-side SSL (Trusted Certificate Authority): ca-bundle.crt</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Service List</strong></p>
<ol class="arabic simple">
<li><strong>Inline Layer 2 service</strong><ol class="loweralpha">
<li>Name: some name (ex. FireEye)</li>
<li>Network Configuration<ul>
<li>Ratio: 1</li>
<li>From BIGIP VLAN: Create New, name (ex. FireEye_in), int 1.6</li>
<li>To BIGIP VLAN: Create New, name (ex. FireEye_out), int 1.7</li>
<li>Click Done</li>
</ul>
</li>
<li>Service Action Down: Ignore</li>
<li>Enable Port Remap: Enable, 8080</li>
<li>Click Save</li>
</ol>
</li>
<li><strong>Inline layer 3 service</strong><ol class="loweralpha">
<li>Name: some name (ex. IPS)</li>
<li>IP Family: IPv4</li>
<li>Auto Manage: Enabled</li>
<li>To Service Configuration<ul>
<li>To Service: 198.19.64.7/25</li>
<li>VLAN: Create New, name (ex. IPS_in), interface 1.3, tag 50</li>
</ul>
</li>
<li>Service Action Down: Ignore</li>
<li>L3 Devices: 198.19.64.64</li>
<li>From Service Configuration<ul>
<li>From Service: 198.19.64.245/25</li>
<li>VLAN: Create New, name (ex. IP_out), interface 1.3, tag 60</li>
</ul>
</li>
<li>Enable Port Remap: Enabled, 8181</li>
<li>Manage SNAT Settings: None</li>
<li>Click Save</li>
</ol>
</li>
<li><strong>Inline HTTP service</strong><ol class="loweralpha">
<li>Name: some name (ex. Proxy)</li>
<li>IP Family: IPv4</li>
<li>Auto Manage: Enabled</li>
<li>Proxy Type: Explicit</li>
<li>To Service Configuration<ul>
<li>To Service: 198.19.96.7/25</li>
<li>VLAN: Create New, name (ex. Proxy_in), interface 1.3, tag 110</li>
</ul>
</li>
<li>Service Action Down: Ignore</li>
<li>HTTP Proxy Devices: 198.19.96.66, Port 3128</li>
<li>From Service Configuration<ul>
<li>From Service: 198.19.96.245/25</li>
<li>VLAN: Create New, name (ex. Proxy_out), interface 1.3, tag 120</li>
</ul>
</li>
<li>Manage SNAT Settings: None</li>
<li>Authentication Offload: Disabled</li>
<li>Click Save</li>
</ol>
</li>
<li><strong>ICAP Service</strong><ol class="loweralpha">
<li>name: some name (ex. DLP)</li>
<li>IP Family: IPv4</li>
<li>ICAP Devices: 10.70.0.10, Port 1344</li>
<li>Request URI Path: /squidclamav</li>
<li>Response URI Path: /squidclamav</li>
<li>Preview Max Length(bytes): 524288</li>
<li>Service Action Down: Ignore</li>
<li>Click Save</li>
</ol>
</li>
<li><strong>TAP Service</strong><ol class="loweralpha">
<li>Some Name (ex. TAP)</li>
<li>Mac Address: 12:12:12:12:12:12</li>
<li>VLAN: Create New, name (ex. TAP_in)</li>
<li>Interface: 1.4</li>
<li>Service Action Down: Ignore</li>
<li>Click Save</li>
<li>Click Save &amp; Next</li>
</ol>
</li>
</ol>
<p><strong>Service Chain List</strong></p>
<ol class="arabic simple">
<li>Add<ol class="loweralpha">
<li>Name: some name (ex. my-service-chain)</li>
<li>Services: all of the services</li>
<li>Click Save</li>
</ol>
</li>
<li>Add<ol class="loweralpha">
<li>name: some name (ex. my-sub-service-chain)</li>
<li>Services: L2 and TAP services</li>
<li>Click Save</li>
</ol>
</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Security Policy</strong></p>
<ol class="arabic simple">
<li>Add a new rule<ol class="loweralpha">
<li>Name: some name (ex. urlf_bypass)</li>
<li>Conditions<ul>
<li>Category Lookup (All)</li>
<li>SNI Category: Financial Data and Services, Health and Medicine</li>
</ul>
</li>
<li>Action: Allow</li>
<li>SSL Forward Proxy Action: bypass</li>
<li>Service Chain: L2/TAP service chain</li>
<li>Click OK</li>
</ol>
</li>
<li>Modify the All rule<ol class="loweralpha">
<li>Service Chain: all services chain</li>
<li>Click OK</li>
</ol>
</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Interception Rule</strong></p>
<ol class="loweralpha simple">
<li>Select Outbound Rule Type: Default</li>
<li>Ingress Network (VLANs): client-side</li>
<li>L7 Interception Rules: apply FTP and email protocols as required</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Egress Setting</strong></p>
<ol class="loweralpha simple">
<li>Manage SNAT Settings: Auto Map</li>
<li>Gateways: New, ratio 1, 10.30.0.1</li>
</ol>
<p><strong>Summary</strong></p>
<ol class="loweralpha simple">
<li>Review configuration</li>
<li>Click Deploy</li>
</ol>
</div>
<div class="section" id="lab-2-demo-script">
<h2>2.2.8.2. Lab 2 demo script<a class="headerlink" href="#lab-2-demo-script" title="Permalink to this headline">¶</a></h2>
<p><strong>Configuration review and prerequisites</strong></p>
<ol class="arabic simple">
<li>Optionally define DNS, NTP and gateway route</li>
<li>Click Next</li>
</ol>
<p><strong>Topology Properties</strong></p>
<ol class="arabic simple">
<li>Name: some name (ex. sslo-inbound-1)</li>
<li>Protocol: TCP</li>
<li>IP Family: IPv4</li>
<li>Topology: L3 Inbound</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>SSL Configuration</strong></p>
<ol class="arabic simple">
<li>Show Advanced Setting</li>
<li>Client-side SSL (Cipher Type): Cipher String</li>
<li>Client-side SSL (Cipher String): DEFAULT</li>
<li>Client-side SSL (Certificate Key Chain): default.crt and default.key</li>
<li>Server-side SSL (Cipher Type): Cipher String</li>
<li>Server-side SSL (Cipher String): DEFAULT</li>
<li>Server-side SSL (Trusted Certificate Authority): ca-bundle.crt</li>
<li>Advanced (Expire Certificate Control): Ignore</li>
<li>Advanced (Untrusted Certificate Authority): Ignore</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Services List</strong></p>
<ol class="arabic simple">
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Service Chain List</strong></p>
<ol class="arabic simple">
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Security Policy</strong></p>
<ol class="arabic simple">
<li>Remove Pinners_Rule</li>
<li>Edit All Traffic rule and add L2/TAP service chain</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Interception Rule</strong></p>
<ol class="arabic simple">
<li>Gateway-mode<ol class="loweralpha">
<li>Hide Advanced Setting</li>
<li>Source Address: 0.0.0.0/0</li>
<li>Destination Address/Mask: 0.0.0.0/0</li>
<li>Port: 443</li>
<li>VLANs: outbound</li>
</ol>
</li>
<li>Targeted-mode<ol class="loweralpha">
<li>Show Advanced Setting</li>
<li>Source Address: 0.0.0.0/0</li>
<li>Destination Address: 10.30.0.200</li>
<li>Port: 443</li>
<li>VLANs: outbound</li>
<li>Pool: webserver-pool</li>
</ol>
</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Egress Settings</strong></p>
<ol class="arabic simple">
<li>Manage SNAT Settings: Auto Map</li>
<li>Gateways: Default Route</li>
</ol>
<p><strong>Summary</strong></p>
<ol class="arabic simple">
<li>Review configuration</li>
<li>Click Deploy</li>
</ol>
</div>
<div class="section" id="lab-3-demo-script">
<h2>2.2.8.3. Lab 3 demo script<a class="headerlink" href="#lab-3-demo-script" title="Permalink to this headline">¶</a></h2>
<p><strong>Configuration review and prerequisites</strong></p>
<ol class="arabic simple">
<li>Optionally define DNS, NTP and gateway route</li>
<li>Click Next</li>
</ol>
<p><strong>Topology Properties</strong></p>
<ol class="arabic simple">
<li>Name: some name (ex. sslo-explicit)</li>
<li>Protocol: TCP</li>
<li>IP Family: IPv4</li>
<li>Topology: L3 Explicit Proxy</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>SSL Configuration</strong></p>
<ol class="arabic simple">
<li>SSL Profile: Use Existing, existing outbound SSL settings</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Services List</strong></p>
<ol class="arabic simple">
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Service Chain List</strong></p>
<ol class="arabic simple">
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Security Policy</strong></p>
<ol class="arabic simple">
<li>Type: Use Existing, existing outbound security policy</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Interception Rule</strong></p>
<ol class="arabic simple">
<li>IPV4 Address: 10.20.0.150</li>
<li>Port: 3128</li>
<li>VLANs: client-net</li>
<li>Click Save &amp; Next</li>
</ol>
<p><strong>Egress Settings</strong></p>
<ol class="arabic simple">
<li>Manage SNAT Settings: Auto Map</li>
<li>Gateways: Existing Gateway Pool, -ex-pool-4 pool</li>
</ol>
<p><strong>Summary</strong></p>
<ol class="arabic simple">
<li>Review configuration</li>
<li>Click Deploy</li>
</ol>
<p><strong>System Settings</strong></p>
<ol class="arabic simple">
<li>DNS Query Resolution: Local Forwarding Nameserver</li>
<li>Local Forwarding Nameserver(s): 10.1.20.1</li>
<li>Click Deploy</li>
</ol>
</div>
</div>


        
		     <div class="row next-prev-btn-row">
           <div class="col-lg-12">
           
		        <a href="../lab3/lab3.html" title="2.2.3. LAB 3 – CREATE AN EXPLICIT FORWARD PROXY SSLO" accesskey="p" class="btn btn-primary pull-left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
           
           
		     </div>
         </div>
        
      </div>
    </div>
  </div>


  <footer>
      <div class="container-fluid">
        <div class="row">
          <div class="content-fluid pre-footer">
            <div class="blocks-container">
              <div class="block">
                <h3>Support Programs</h3>
                <p>Regionally located support centers enable F5 to provide support in a number of languages through native-speaking support engineers.</p>
                <a class="btn internalLink" data-ng-href="https://f5.com/support/support-offerings" target="_blank" href="https://f5.com/support/support-offerings">See more
                  <span class="icon-1x-right icon-new-window" data-icon="new-window">​</span>
                </a>
              </div>
              <div class="block">
                <h3>Contact Support</h3>
                <p>
                  North America: 1-888-882-7535<br>
                  Outside North America: 800-11-275-435
                </p>
                <a class="btn internalLink" data-ng-href="https://f5.com/about-us/contact#regional-support" target="_blank" href="https://f5.com/about-us/contact#regional-support">Local Support Numbers
                  <span class="icon-1x-right icon-new-window" data-icon="new-window">​</span>
                </a>
              </div>
              <div class="block">
                <h3>Feedback and Help</h3>
                <p>Have questions, suggestions, or just want to get something off your chest? Let us know.</p>
                <a class="btn" data-ui-sref="siteFeedback" target="_blank" href="https://support.f5.com/csp/siteFeedback">Leave feedback</a>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="footer">
            <div class="container">
              <div class="col-sm-3 col-md-2">
                <h4>About F5</h4>
                <ul>
                  <li><a data-ng-href="https://f5.com/about-us/contact" target="_blank" data-link-type="footer" href="https://f5.com/about-us/contact" class="internalLink">Contact F5</a>
                  </li>
                  <li><a data-ng-href="https://f5.com/about-us/careers" target="_blank" data-link-type="footer" href="https://f5.com/about-us/careers" class="internalLink">Careers</a>
                  </li>
                </ul>
              </div>
              <div class="col-sm-3 col-md-2">
                <h4>Education</h4>
                <ul>
                  <li><a data-ng-href="https://f5.com/education/training" target="_blank" data-link-type="footer" href="https://f5.com/education/training" class="internalLink">Training</a>
                  </li>
                  <li><a data-ng-href="https://f5.com/education/certification" target="_blank" data-link-type="footer" href="https://f5.com/education/certification" class="internalLink">Certification</a>
                  </li>
                  <li><a data-ng-href="https://f5.com/education/training/free-courses" target="_blank" data-link-type="footer" href="https://f5.com/education/training/free-courses" class="internalLink">Free Online Training</a>
                  </li>
                </ul>
              </div>

              <div class="col-sm-3 col-md-2">
                <h4>F5 sites</h4>
                <ul>
                <li><a data-ng-href="https://f5.com" target="_blank" data-link-type="footer" href="https://f5.com" class="internalLink">F5.com</a>
                </li>
                <li><a data-ng-href="https://devcentral.f5.com" target="_blank" data-link-type="footer" href="https://devcentral.f5.com" class="internalLink">Community</a>
                </li>
                <li><a data-ng-href="https://partners.f5.com" target="_blank" data-link-type="footer" href="https://partners.f5.com" class="internalLink">Partners</a>
                </li>
            </ul>
        </div>

        <div class="col-sm-3 col-md-2">
            <h4>Support Tasks</h4>
            <ul>
                <li><a data-ui-sref="mySupport.createServiceRequest" data-link-type="footer" href="https://support.f5.com/csp/my-support/service-request">Create Service Request </a>
                </li>
                <li><a data-ng-href="https://f5.com/about-us/contact#regional-support" target="_blank" data-link-type="footer" href="https://f5.com/about-us/contact#regional-support" class="internalLink">Contact Support</a>
                </li>
                <li><a data-ui-sref="siteFeedback" target="_blank" data-link-type="footer" href="https://support.f5.com/csp/siteFeedback">Leave feedback [+]</a>
                </li>
            </ul>
        </div>

        <div class="col-xs-12 col-md-3 right">
            <h4>Connect with us</h4>
            <ul class="social_icons">
                <li><a href="//twitter.com/f5networks" target="_blank" data-name="twitter" data-type="" data-prefix="social" data-utf="E032" title="Twitter" class="externalLink"><i class="icon-1x icon-twitter icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a href="//www.linkedin.com/companies/f5-networks" target="_blank" class="linkedin externalLink" title="LinkedIn"><i class="icon-1x icon-linkedin icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a href="//www.facebook.com/f5networksinc" target="_blank" class="facebook externalLink" title="Facebook"><i class="icon-1x icon-facebook icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a href="//www.youtube.com/f5networksinc" target="_blank" class="youtube externalLink" title="YouTube"><i class="icon-1x icon-youtube icon-inverse-circle" data-link-type="footer"></i></a></li>
                <li><a data-ng-href="https://devcentral.f5.com" target="_blank" class="devcentral internalLink" title="DevCentral" href="https://devcentral.f5.com"><i class="icon-1x icon-dc-pos icon-inverse-circle" data-link-type="footer"></i></a></li>
            </ul>
        </div>

        <div class="content-fluid left">
            <div class="col-xs-12">
                <p>
                    © Copyright <span class="ng-binding">2017</span> by F5 Networks, Inc. |
                    <a data-ng-href="https://f5.com/about-us/policies" target="_blank" data-link-type="footer" href="https://f5.com/about-us/policies" class="internalLink">Policies</a> |
                    <a data-ng-href="https://f5.com/about-us/policies/trademarks" target="_blank" data-link-type="footer" href="https://f5.com/about-us/policies/trademarks" class="internalLink">Trademarks</a>
                </p>
            </div>
        </div>
    </div>
</div>
    </div>
</div>
</footer>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="../../_static/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    jQuery.noConflict(true)
  </script>
  </body>
</html>